<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Utilities - Go-Smart Simulation Architecture Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Utilities";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Go-Smart Simulation Architecture Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../go-smart-launcher/">go-smart-launcher</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../xml/">GSSF XML Format</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../family/">Family in GSSA</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../logging/">Logging &amp; Errors</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../constants/">Constants</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../regions/">Regions &amp; Geometry</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Utilities</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#utility-functions-in-gssf">Utility Functions in GSSF</a></li>
                
                    <li><a class="toctree-l4" href="#generate_rotation_matrix">generate_rotation_matrix</a></li>
                
                    <li><a class="toctree-l4" href="#slugify">slugify</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Components</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/needle-library/">Needle Library Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/mesher/">Meshing Components</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/optimizer/">Optimizer Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/elmergrid/">ElmerGrid Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/elmer/">ElmerSolver Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/lesion/">Lesion Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/validation/">Validation Component</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tools</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tools/mesher-cgal/">CGAL Meshing (mesher-cgal)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tools/numa-elmer/">Extensions to Elmer</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Go-Smart Simulation Architecture Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Utilities</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="utility-functions-in-gssf">Utility Functions in GSSF</h1>
<p>There are several helper functions used in GSSF that may be of use if you are
extending or modifying behaviour. While these are underscore prefixed, this may
be changed later - however, they are intended for use within the gssf.*
space.</p>
<h2 id="generate_rotation_matrix">generate_rotation_matrix</h2>
<p><em>Location</em>: <code>gssf.globals._generate_rotation_matrix(x, y, z, backward=False)</code>,
<code>_generate_numpy_rotation_matrix(x, y, z, backward=False, rx=0, ry=1, rz=0)</code></p>
<p>The <a href="http://www.numpy.org/">Numpy</a> version of this function creates a rotation
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.matrix.html">matrix</a>
taking the vector <code>(rx, ry, rz)</code> to <code>(x, y, z)</code>, rotating about an axis
perpendicular to both. The <code>backward</code> argument allows for easy reversal of the
rotation. The algorithm used is <a href="https://en.wikipedia.org/wiki/Rodrigues'_rotation_formula#Matrix_notation">Rodrigues' rotation
formula</a>.
The non-Numpy version renders the matrix as a SIF-embeddedable space-separated
list.</p>
<p>This utility is especially useful for translating needles from reference
coordinates to the embedded location and for moving backwards and forwards between
an axisymmetric problem and its 3D embedding. Note that reference needles in the
GSSF library are aligned to <code>(0, 0, 1)</code>, not <code>(0, 1, 0)</code>. However, library
axisymmetric meshes lie in this plane. <a href="../tools/numa-elmer/">Extensions</a> to the mesh
interpolation functionality in Elmer allow</p>
<h2 id="slugify">slugify</h2>
<p><em>Location</em>: <code>gssf.globals.slugify(inp)</code></p>
<p>This is a workaround for lack of a Python3 slugify early in the project, and is
to be replaced with a real slugify (e.g.
<a href="https://pypi.python.org/pypi/python-slugify">python-slugify</a>). It is documented
here solely because any differences between our (very basic, 4-line) behaviour
and an upstream slugify's needs to be considered before swapping.</p>
<p>It uppercases input, removes any parentheses and replaces dash and space with an
underscore. For example:</p>
<pre><code>"Electric conductivity (tissue)" ----&gt; ELECTRIC_CONDUCTIVITY_TISSUE
</code></pre>
<p>This is normally seen in generation of constant names for the parameter
dictionaries in the SIF template.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../components/needle-library/" class="btn btn-neutral float-right" title="Needle Library Component"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../regions/" class="btn btn-neutral" title="Regions &amp; Geometry"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../regions/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../components/needle-library/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
