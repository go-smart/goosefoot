<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Utilities - Go-Smart Simulation Framework Documentation</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">Go-Smart Simulation Framework Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Core <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../go-smart-launcher/">go-smart-launcher</a>
                        </li>
                    
                        <li >
                            <a href="../xml/">GSSF XML Format</a>
                        </li>
                    
                        <li >
                            <a href="../family/">Family in GSSA</a>
                        </li>
                    
                        <li >
                            <a href="../logging/">Logging &amp; Errors</a>
                        </li>
                    
                        <li >
                            <a href="../constants/">Constants</a>
                        </li>
                    
                        <li >
                            <a href="../regions/">Regions &amp; Geometry</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Utilities</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Components <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../components/needle-library/">Needle Library Component</a>
                        </li>
                    
                        <li >
                            <a href="../components/mesher/">Meshing Components</a>
                        </li>
                    
                        <li >
                            <a href="../components/optimizer/">Optimizer Component</a>
                        </li>
                    
                        <li >
                            <a href="../components/elmergrid/">ElmerGrid Component</a>
                        </li>
                    
                        <li >
                            <a href="../components/elmer/">ElmerSolver Component</a>
                        </li>
                    
                        <li >
                            <a href="../components/lesion/">Lesion Component</a>
                        </li>
                    
                        <li >
                            <a href="../components/validation/">Validation Component</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../tools/mesher-cgal/">CGAL Meshing (mesher-cgal)</a>
                        </li>
                    
                        <li >
                            <a href="../tools/numa-elmer/">Extensions to Elmer</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../regions/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../components/needle-library/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#utility-functions-in-gssf">Utility Functions in GSSF</a></li>
        
            <li><a href="#generate_rotation_matrix">generate_rotation_matrix</a></li>
        
            <li><a href="#slugify">slugify</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="utility-functions-in-gssf">Utility Functions in GSSF</h1>
<p>There are several helper functions used in GSSF that may be of use if you are
extending or modifying behaviour. While these are underscore prefixed, this may
be changed later - however, they are intended for use within the gssf.*
space.</p>
<h2 id="generate_rotation_matrix">generate_rotation_matrix</h2>
<p><em>Location</em>: <code>gssf.globals._generate_rotation_matrix(x, y, z, backward=False)</code>,
<code>_generate_numpy_rotation_matrix(x, y, z, backward=False, rx=0, ry=1, rz=0)</code></p>
<p>The <a href="http://www.numpy.org/">Numpy</a> version of this function creates a rotation
<a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.matrix.html">matrix</a>
taking the vector <code>(rx, ry, rz)</code> to <code>(x, y, z)</code>, rotating about an axis
perpendicular to both. The <code>backward</code> argument allows for easy reversal of the
rotation. The algorithm used is <a href="https://en.wikipedia.org/wiki/Rodrigues'_rotation_formula#Matrix_notation">Rodrigues' rotation
formula</a>.
The non-Numpy version renders the matrix as a SIF-embeddedable space-separated
list.</p>
<p>This utility is especially useful for translating needles from reference
coordinates to the embedded location and for moving backwards and forwards between
an axisymmetric problem and its 3D embedding. Note that reference needles in the
GSSF library are aligned to <code>(0, 0, 1)</code>, not <code>(0, 1, 0)</code>. However, library
axisymmetric meshes lie in this plane. <a href="../tools/numa-elmer/">Extensions</a> to the mesh
interpolation functionality in Elmer allow</p>
<h2 id="slugify">slugify</h2>
<p><em>Location</em>: <code>gssf.globals.slugify(inp)</code></p>
<p>This is a workaround for lack of a Python3 slugify early in the project, and is
to be replaced with a real slugify (e.g.
<a href="https://pypi.python.org/pypi/python-slugify">python-slugify</a>). It is documented
here solely because any differences between our (very basic, 4-line) behaviour
and an upstream slugify's needs to be considered before swapping.</p>
<p>It uppercases input, removes any parentheses and replaces dash and space with an
underscore. For example:</p>
<pre><code>"Electric conductivity (tissue)" ----&gt; ELECTRIC_CONDUCTIVITY_TISSUE
</code></pre>
<p>This is normally seen in generation of constant names for the parameter
dictionaries in the SIF template.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>