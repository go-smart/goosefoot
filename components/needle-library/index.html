<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Needle Library Component - Go-Smart Simulation Architecture Documentation</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Needle Library Component";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../overview/" class="icon icon-home"> Go-Smart Simulation Architecture Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../overview/">Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../go-smart-launcher/">go-smart-launcher</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../xml/">GSSF XML Format</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../family/">Family in GSSA</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../logging/">Logging &amp; Errors</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../constants/">Constants</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../regions/">Regions &amp; Geometry</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../utilities/">Utilities</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Components</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Needle Library Component</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#go-smart-needle-library-step-manipulation-and-geometry-generation">Go-Smart Needle Library - STEP manipulation and geometry generation</a></li>
                
                    <li><a class="toctree-l4" href="#go-smart-needle-library">go-smart-needle-library</a></li>
                
                    <li><a class="toctree-l4" href="#needle-cad-geometries">Needle CAD geometries</a></li>
                
                    <li><a class="toctree-l4" href="#gssf-component">GSSF component</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../mesher/">Meshing Components</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../optimizer/">Optimizer Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../elmergrid/">ElmerGrid Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../elmer/">ElmerSolver Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../lesion/">Lesion Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../validation/">Validation Component</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tools</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tools/mesher-cgal/">CGAL Meshing (mesher-cgal)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tools/numa-elmer/">Extensions to Elmer</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../overview/">Go-Smart Simulation Architecture Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../overview/">Docs</a> &raquo;</li>
    
      
        
          <li>Components &raquo;</li>
        
      
    
    <li>Needle Library Component</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="go-smart-needle-library-step-manipulation-and-geometry-generation">Go-Smart Needle Library - STEP manipulation and geometry generation</h1>
<p>This tool uses <a href="http://www.pythonocc.org/">PythonOCC</a> to generate triangulated
surfaces from STEP files, for representing needles and other features. It uses
PythonOCC also for geometric transformation, allowing a single reference STEP to
be placed into a mesh in any location or of any scaling.</p>
<p>With the appropriate GSSA-XML extensions, this will allow a user to provide
their own STEP geometry as the definition of a surface or surfaces in the mesh.
The present implementation provides some support for splitting an STEP file,
with the first listed component being output as an 'active' part, the second as
an 'inactive' part, both in STL format.</p>
<h2 id="go-smart-needle-library">go-smart-needle-library</h2>
<p>Management tool for Go-Smart ablation needle geometry library</p>
<pre><code>go-smart-needle-library [-h] [--logfile LOGFILENAME] [--logfile-addpid]
                           [--silent] [--debug] [--output OUTFILE]
                           [--output-extent EXTENTFILE]
                           ...
</code></pre>
<h3 id="positional-arguments">Positional arguments</h3>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>configfilenames</td>
<td>Locations of configuration file (latter override former)</td>
</tr>
</tbody>
</table>
<h3 id="optional-arguments">Optional arguments</h3>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-h, --help</td>
<td>show this help message and exit</td>
</tr>
<tr>
<td>--logfile LOGFILENAME</td>
<td>name of the log file</td>
</tr>
<tr>
<td>--logfile-addpid</td>
<td>whether the PID should be appended to the given</td>
</tr>
<tr>
<td></td>
<td>logfile name</td>
</tr>
<tr>
<td>--silent</td>
<td>prevent wrapper output</td>
</tr>
<tr>
<td>--debug</td>
<td>additional, debug output (overridden by --silent)</td>
</tr>
<tr>
<td>--output OUTFILE</td>
<td>destination STL file for needle</td>
</tr>
<tr>
<td>--output-extent EXTENTFILE</td>
<td>destination STL file for extent</td>
</tr>
</tbody>
</table>
<h2 id="needle-cad-geometries">Needle CAD geometries</h2>
<p>These should lie along the z-axis, with tip at the origin and be in STEP format.
One or two roots (shapes) may exist. If two, the STEP will be split into two STL
surfaces, with the first marked as the 'active' surface, the second as the
'inactive'. Interpretation is left to the modelling components of the workflow.
If multiple shapes are provided, they should be output in STLs suffixed by the
ordinal position in the STEP (1 &rarr; n). This should work for n &gt; 2 but has
not been fully tested.</p>
<h2 id="gssf-component">GSSF component</h2>
<p>The corresponding GSSF component forms a fairly transparent wrapper for
<a href="#go-smart-needle-library">go-smart-needle-library</a>.</p>
<h3 id="configuration">Configuration</h3>
<p>The second-level <a href="../../xml/">GSSF-XML</a> tag is as follows:</p>
<pre><code class="xml">    &lt;needlelibrary [ skip=&quot;BOOL:false&quot; ]&gt;
        &lt;needle id=&quot;ID&quot; [ name=&quot;NAME&quot; ] [ axis=&quot;AX AY AZ&quot; ] [ offset=&quot;OX OY OZ&quot; ]/&gt;
      [ &lt;target x=&quot;TX&quot; y=&quot;TY&quot; z=&quot;TZ&quot; /&gt; ]
      [ &lt;extent x=&quot;TX&quot; y=&quot;TY&quot; z=&quot;TZ&quot; /&gt; ]
    &lt;/needlelibrary&gt;
</code></pre>

<p>The <code>id</code> is the library name of the required template. It is recommended to
write this as <code>id="stock:ID"</code> for future compatibility. The name is a human
readable name to use to refer to this needle elsewhere in the simulation. If not
provided, the ordinal index of the <code>needle</code> node will be used. The <code>axis</code>
overrides the global <code>axis</code> from the <code>geometry</code> section of [GSSF-XML][xml.md]
for this needle. The <code>offset</code> indicates the offset of this needle from the
target of the needle-set, by default the geometry centre.</p>
<p>The <code>target</code> allows the user to specify an offset of the needle-set from the
centre of simulation as defined in the <code>geometry</code> section.
The <code>extent</code>, if provided, instructs the <code>needlelibrary</code> to generate an STL
simulation boundary. This may be intersected later with the organ boundary to
generate an outer boundary of the simulation domain.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../mesher/" class="btn btn-neutral float-right" title="Meshing Components"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../utilities/" class="btn btn-neutral" title="Utilities"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../utilities/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../mesher/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
