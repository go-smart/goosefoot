<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Needle Library Component - Go-Smart Simulation Framework Documentation</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Go-Smart Simulation Framework Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Core <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../go-smart-launcher/">go-smart-launcher</a>
                        </li>
                    
                        <li >
                            <a href="../../xml/">GSSF XML Format</a>
                        </li>
                    
                        <li >
                            <a href="../../family/">Family in GSSA</a>
                        </li>
                    
                        <li >
                            <a href="../../logging/">Logging &amp; Errors</a>
                        </li>
                    
                        <li >
                            <a href="../../constants/">Constants</a>
                        </li>
                    
                        <li >
                            <a href="../../regions/">Regions &amp; Geometry</a>
                        </li>
                    
                        <li >
                            <a href="../../utilities/">Utilities</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Components <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">Needle Library Component</a>
                        </li>
                    
                        <li >
                            <a href="../mesher/">Meshing Components</a>
                        </li>
                    
                        <li >
                            <a href="../optimizer/">Optimizer Component</a>
                        </li>
                    
                        <li >
                            <a href="../elmergrid/">ElmerGrid Component</a>
                        </li>
                    
                        <li >
                            <a href="../elmer/">ElmerSolver Component</a>
                        </li>
                    
                        <li >
                            <a href="../lesion/">Lesion Component</a>
                        </li>
                    
                        <li >
                            <a href="../validation/">Validation Component</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../tools/mesher-cgal/">CGAL Meshing (mesher-cgal)</a>
                        </li>
                    
                        <li >
                            <a href="../../tools/numa-elmer/">Extensions to Elmer</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../utilities/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../mesher/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#go-smart-needle-library-step-manipulation-and-geometry-generation">Go-Smart Needle Library - STEP manipulation and geometry generation</a></li>
        
            <li><a href="#go-smart-needle-library">go-smart-needle-library</a></li>
        
            <li><a href="#needle-cad-geometries">Needle CAD geometries</a></li>
        
            <li><a href="#gssf-component">GSSF component</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="go-smart-needle-library-step-manipulation-and-geometry-generation">Go-Smart Needle Library - STEP manipulation and geometry generation</h1>
<p>This tool uses <a href="http://www.pythonocc.org/">PythonOCC</a> to generate triangulated
surfaces from STEP files, for representing needles and other features. It uses
PythonOCC also for geometric transformation, allowing a single reference STEP to
be placed into a mesh in any location or of any scaling.</p>
<p>With the appropriate GSSA-XML extensions, this will allow a user to provide
their own STEP geometry as the definition of a surface or surfaces in the mesh.
The present implementation provides some support for splitting an STEP file,
with the first listed component being output as an 'active' part, the second as
an 'inactive' part, both in STL format.</p>
<h2 id="go-smart-needle-library">go-smart-needle-library</h2>
<p>Management tool for Go-Smart ablation needle geometry library</p>
<pre><code>go-smart-needle-library [-h] [--logfile LOGFILENAME] [--logfile-addpid]
                           [--silent] [--debug] [--output OUTFILE]
                           [--output-extent EXTENTFILE]
                           ...
</code></pre>
<h3 id="positional-arguments">Positional arguments</h3>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>configfilenames</td>
<td>Locations of configuration file (latter override former)</td>
</tr>
</tbody>
</table>
<h3 id="optional-arguments">Optional arguments</h3>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-h, --help</td>
<td>show this help message and exit</td>
</tr>
<tr>
<td>--logfile LOGFILENAME</td>
<td>name of the log file</td>
</tr>
<tr>
<td>--logfile-addpid</td>
<td>whether the PID should be appended to the given</td>
</tr>
<tr>
<td></td>
<td>logfile name</td>
</tr>
<tr>
<td>--silent</td>
<td>prevent wrapper output</td>
</tr>
<tr>
<td>--debug</td>
<td>additional, debug output (overridden by --silent)</td>
</tr>
<tr>
<td>--output OUTFILE</td>
<td>destination STL file for needle</td>
</tr>
<tr>
<td>--output-extent EXTENTFILE</td>
<td>destination STL file for extent</td>
</tr>
</tbody>
</table>
<h2 id="needle-cad-geometries">Needle CAD geometries</h2>
<p>These should lie along the z-axis, with tip at the origin and be in STEP format.
One or two roots (shapes) may exist. If two, the STEP will be split into two STL
surfaces, with the first marked as the 'active' surface, the second as the
'inactive'. Interpretation is left to the modelling components of the workflow.
If multiple shapes are provided, they should be output in STLs suffixed by the
ordinal position in the STEP (1 &rarr; n). This should work for n &gt; 2 but has
not been fully tested.</p>
<h2 id="gssf-component">GSSF component</h2>
<p>The corresponding GSSF component forms a fairly transparent wrapper for
<a href="#go-smart-needle-library">go-smart-needle-library</a>.</p>
<h3 id="configuration">Configuration</h3>
<p>The second-level <a href="../../xml/">GSSF-XML</a> tag is as follows:</p>
<pre><code class="xml">    &lt;needlelibrary [ skip=&quot;BOOL:false&quot; ]&gt;
        &lt;needle id=&quot;ID&quot; [ name=&quot;NAME&quot; ] [ axis=&quot;AX AY AZ&quot; ] [ offset=&quot;OX OY OZ&quot; ]/&gt;
      [ &lt;target x=&quot;TX&quot; y=&quot;TY&quot; z=&quot;TZ&quot; /&gt; ]
      [ &lt;extent x=&quot;TX&quot; y=&quot;TY&quot; z=&quot;TZ&quot; /&gt; ]
    &lt;/needlelibrary&gt;
</code></pre>

<p>The <code>id</code> is the library name of the required template. It is recommended to
write this as <code>id="stock:ID"</code> for future compatibility. The name is a human
readable name to use to refer to this needle elsewhere in the simulation. If not
provided, the ordinal index of the <code>needle</code> node will be used. The <code>axis</code>
overrides the global <code>axis</code> from the <code>geometry</code> section of [GSSF-XML][xml.md]
for this needle. The <code>offset</code> indicates the offset of this needle from the
target of the needle-set, by default the geometry centre.</p>
<p>The <code>target</code> allows the user to specify an offset of the needle-set from the
centre of simulation as defined in the <code>geometry</code> section.
The <code>extent</code>, if provided, instructs the <code>needlelibrary</code> to generate an STL
simulation boundary. This may be intersected later with the organ boundary to
generate an outer boundary of the simulation domain.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>