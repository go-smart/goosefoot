<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Constants - Go-Smart Simulation Architecture Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Constants";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Go-Smart Simulation Architecture Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../go-smart-launcher/">go-smart-launcher</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../xml/">GSSF XML Format</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../family/">Family in GSSA</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../logging/">Logging &amp; Errors</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Constants</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#constants-in-gssf">Constants in GSSF</a></li>
                
                    <li><a class="toctree-l4" href="#parameters-in-the-elmer-sif-template">Parameters in the Elmer SIF template</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../regions/">Regions &amp; Geometry</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../utilities/">Utilities</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Components</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/needle-library/">Needle Library Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/mesher/">Meshing Components</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/optimizer/">Optimizer Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/elmergrid/">ElmerGrid Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/elmer/">ElmerSolver Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/lesion/">Lesion Component</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../components/validation/">Validation Component</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tools</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tools/mesher-cgal/">CGAL Meshing (mesher-cgal)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tools/numa-elmer/">Extensions to Elmer</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Go-Smart Simulation Architecture Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Constants</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="constants-in-gssf">Constants in GSSF</h1>
<p>In GSSF code, parameters are generally referred to as <code>constants</code>, which is not
entirely accurate (TODO), but reflects the fact that the definition itself does
not usually change throughout the simulation. They are generally
floats/ints/etc. but may be MATC functions that are dropped into the SIF at the
start of the simulation.</p>
<p>Constants in GSSF mostly arise from the parameters set in the GSSF-XML, but
include other values such as the mesh scaling, which is not (in GSSF) in the
parameter section. They are also used to transfer certain values between
components, where one calculates and adds a constant to the global space and
another uses it.</p>
<h2 id="parameters-in-the-elmer-sif-template">Parameters in the Elmer SIF template</h2>
<p>The <a href="../components/elmer/#elmer-sif-template">SIF template</a> is a
<a href="http://jinja.pocoo.org/">Jinja2</a> template. As such, Python parameter
dictionaries are used to pass parameters into the template. These are named <code>p</code>
and <code>needles</code>, being the global and needle-specific parameters, respectively. The
needle parameter dictionary, <code>needles</code>, is a dictionary of parameter dictionaries,
indexed as integers based on the needle indexes from the GSSF-XML.</p>
<p>The parameter dictionaries are of class <code>ParameterDict</code>, which extends Python's
<code>dict</code> built-in. In particular, these can be used with the member syntax:
<code>p.CONSTANT_BODY_TEMPERATURE</code>, for example, will return the relevant <code>Parameter</code>
object for that parameter. This actually covers all global constants, not just
the GSSF parameters, so a few extra items are available. For instance,
<code>p.NEEDLE_AXIS_SCALE_X</code> will return the scaling in the <em>x</em> direction used by the
needle library.</p>
<p>The <code>Parameter</code> class, to which the returned parameters belong, is castable to
float, int and string. The Jinja filter <code>typed</code> will cause it to be output with
its SIF type as a prefix (useful, for example, when assigning to a property in
the SIF file). If not otherwise cast, it will appear as a string representation.
If the parameter type is an array, it will be converted to a space separated
list.</p>
<p>For instance, if the following line appears in the SIF template:</p>
<pre><code>...
Power = {{ p.CONSTANT_INPUT_POWER|typed }}
...
</code></pre>
<p>and the parameter in the GSSF-XML is:</p>
<pre><code>&lt;constant name="CONSTANT_INPUT_POWER" value="140.0" type="float" /&gt;
</code></pre>
<p>the rendered SIF will be:</p>
<pre><code>...
Power = Real 140.0
...
</code></pre>
<p>whereas, if the parameter in the GSSF-XML is:</p>
<pre><code>&lt;constant name="CONSTANT_INPUT_POWER" value="[140.0, 200.0, 120.0]" type="array(float)" /&gt;
</code></pre>
<p>the rendered SIF will be:</p>
<pre><code>...
Power = Real 140.0 200.0 120.0
...
</code></pre>
<p>Note that this does not take care of the need to supply an index count to the
power list. A conditional may be needed.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../regions/" class="btn btn-neutral float-right" title="Regions &amp; Geometry"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../logging/" class="btn btn-neutral" title="Logging &amp; Errors"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../logging/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../regions/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
